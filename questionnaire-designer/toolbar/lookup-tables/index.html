<!doctype html><html lang=en><head><script type=application/javascript>var doNotTrack=!1;doNotTrack||(window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga('create','UA-129284684-1','auto'),ga('send','pageview'))</script><script async src=https://www.google-analytics.com/analytics.js></script><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=description content><meta name=keywords content="conditions,table,reference,rowcode"><link rel=icon href=/img/favicon/favicon-support-1.png type=image/png sizes=16x16><link rel=icon href=/img/favicon/favicon-support-1-48-win-ico.png type=image/png sizes=48x48><link rel=icon href=/img/favicon/favicon-support-1-158-General-use-iOS-Android.png type=image/png sizes=152x152><link rel=icon href=/img/favicon/favicon-support-1-196-Chrome-for-Android.png type=image/png sizes=196x196><link rel=icon href=/img/favicon/favicon-support-1-558-win10-tile.png type=image/png sizes=558x558><title>Lookup Tables</title><link rel=stylesheet href=https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css integrity=sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T crossorigin=anonymous><link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700,900&subset=cyrillic,cyrillic-ext,greek,greek-ext,latin-ext,vietnamese" rel=stylesheet><link href=/css/all.css rel=stylesheet><link href=https://cdnjs.cloudflare.com/ajax/libs/ekko-lightbox/5.3.0/ekko-lightbox.css rel=stylesheet></head><body><header class="px-md-3 pt-3"><div class=container><div class=row><div class="mb-3 col-lg-6 col-md-12"><a class="navbar-brand text-white pr-0 mr-0 float-left" href=https://mysurvey.solutions/ target=_blank><img src=/img/logo.png alt="Survey Solutions" class=float-left>
<span class="float-left ml-2">Survey<br>Solutions</span></a>
<a class="navbar-text text-white pl-sm-4 ml-sm-4 pl-2 ml-2 float-left" href=https://docs.mysurvey.solutions/>Documentation and knowledge base</a></div><script type=text/template id=my-custom-menu-template>
    <div class="aa">
        <ul class="nav nav-tabs" id="myTab" role="tablist">
            <li class="nav-item">
                <a class="nav-link active" id="docs-tab" data-toggle="tab" href="#docs" role="tab" aria-controls="docs" aria-selected="true">Articles</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" id="forum-tab" data-toggle="tab" href="#forum" role="tab" aria-controls="forum" aria-selected="false">Forum topics</a>
            </li>
        </ul>
        <div class="tab-content">
            <div class="aa-dataset-docs tab-pane fade show active" id="docs" role="tabpanel" aria-labelledby="docs-tab"></div>
            <div class="aa-dataset-forum tab-pane fade" id="forum" role="tabpanel" aria-labelledby="forum-tab"></div>
        </div>
    </div>
</script><div class="col-lg-6 col-md-12 pt-2 mb-4 mb-lg-3"><form class=form-inline onsubmit=return!1><div class="input-group search"><input type=text class="form-control w-100" placeholder="Have a Question? Ask or enter a search term here." id=aa-search-input></div></form></div></div></div></header><main class="container mb-3"><nav aria-label=breadcrumb><ol class="breadcrumb bg-transparent pl-0"><li class=breadcrumb-item><a href=/>Home</a></li><li class=breadcrumb-item><a href=/questionnaire-designer/>Questionnaire Designer</a></li><li class=breadcrumb-item><a href=/questionnaire-designer/toolbar/>Advanced Tools</a></li><li class="breadcrumb-item active" aria-current=page>Lookup Tables</li></ol></nav><div class=mb-4><article class="article d-block w-100"><div class="mb-5 pb-1 d-block w-100 page-title d-flex align-items-end"><h2 class="mb-3 mr-auto pr-3">Lookup Tables</h2><div class="data text-right">June 16, 2016</div></div><div class=article-content><p><em>Lookup tables</em> are reference tables that may be used in validation and
enabling conditions. They are prepared as external tab-delimited files
and uploaded to the questionnaire in the Designer.<br> <br>We use lookup tables to find content by some code and apply it in
validations and enabling<br>conditions as part of larger expressions. Often times this lookup code
is a code of an item in a price survey, occupational code in a labor
force survey, or a code of crop in an agricultural survey.<br> <br>Lookup tables are particularly convenient for storing time series data,
such as historical exchange<br>rates for various currencies. Other uses involve storing estimated crop
yields by crop, ranges of salaries by occupation, etc. While
anthropometric z-scores can be implemented via lookup tables as well,
users should refer to specialized z-score functions instead. </p><p>The lookup tables must conform to the following format:<br> </p><ul><li>Contain the “rowcode” column, and up to 10 other numeric columns
with reference data.</li><li>Values in “rowcode” column must be integer and unique</li><li>Other columns may contain repetitive content, as well as fractions.</li></ul><p>Lookup tables may include up to 5,000 rows of reference data. Multiple
lookup tables may be defined within the same questionnaire.</p><p> </p><h2 id=how-to-uploada-look-up-table>How to upload a look up table</h2><ol><li><p>Click on the <em>lookup table icon</em><span style=line-height:20.8px> on the left hand panel.</p><p><img style=max-width:100%;height:auto src=/questionnaire-designer/toolbar/lookup-tables/images/643037_hubb9e6989e0bfa0649d98a96750919c02_32114_800x600_fit_box_2.png width=492 height=221></span></p></li><li><p>Click on the <em>Add new lookup table</em>link.</p><p><em><img style=max-width:100%;height:auto src=/questionnaire-designer/toolbar/lookup-tables/images/643038_hu94410e41bad1056532266a97159adf32_30234_800x600_fit_box_2.png width=435 height=244></em></p></li><li><p>Type in the *table name, *and click on the *select file *link to
upload the table delimited lookup table.</p></li><li><p>Click <em>save.</em></p></li></ol><p>The short syntax for the reference in condition expressions is:<br> </p><pre><code>LookupTableName[code].ColumnName
</code></pre><p>It requires the name of the lookup table, the value of the code, and the
name of the column for the content of interest</p><p> </p><h2 id=consider-the-following-example>Consider the following example:</h2><p>Suppose, that you want to add a validation condition that provides an
error message for plot areas that are greater than 2 hectares.</p><p> 
<img style=max-width:100%;height:auto src=/questionnaire-designer/toolbar/lookup-tables/images/643050_huc169fb6030988562dbe928d967506c70_32017_800x600_fit_box_2.png width=476 height=488><br> </p><p>However, the single-select unit question allows for the plot area to be
reported in other units of measurement in addition to hectare.</p><p>The tab delimited lookup table with unit conversion factors.</p><img style=max-width:100%;height:auto src=/questionnaire-designer/toolbar/lookup-tables/images/643046_hu658a525fb5626259e07c331bf4320173_27736_800x600_fit_box_2.png width=348 height=130><p>After uploading the tab-delimited lookup table following the directions
explained previously,</p><img style=max-width:100%;height:auto src=/questionnaire-designer/toolbar/lookup-tables/images/643052_huc8d70fbad3c882cb257e7f06622a8379_36523_800x600_fit_box_2.png width=544 height=214><p>We will add the following validation expression to the single-select
unit question. </p><img style=max-width:100%;height:auto src=/questionnaire-designer/toolbar/lookup-tables/images/643055_hub7a3ed9ddb30f7d3f197d0023aa718e0_26071_800x600_fit_box_2.png width=602 height=151><p>Here, <em>plotarea</em> refers to numeric area question. <em>ConversionFactors</em> is
the name of the look up table we have uploaded to Designer. <em>Self</em>
refers to the single-select unit question that holds the validation
expression, and <em>conversion</em> refers to the conversion factor column in
the lookup table.<br> <br>If “Acre” is selected, then the reported plot area will be multiplied by
row 1 of the “conversion” column in the lookup table. And, this
calculated value must be less than 2 hectare.  The same follows for the
other possible units. </p><p>To see a demonstration of this process check out this video.</p><p>For more in-depth information and extended examples, please refer to the
<a href=http://siteresources.worldbank.org/INTCOMPTOOLS/Resources/8213623-1380598436379/lookup.pdf><em>Lookup Tables
Reference</em></a><em>.</em></p></div></article></div></main><footer class="footer pt-3 pb-1 px-sm-3 px-lg-0"><div class="container copyright"><div class=float-left>&#169; 2016-2021 The World Bank Group.<br>All rights Reserved. <a href=https://www.worldbank.org/en/about/legal _target=blank>Legal</a><br><a class=text-primary href=/about/ _target=blank><b class=text-primary>About the team</b></a>
<a class=text-primary href=http://www.capterra.com/p/153927/Survey-Solutions/ target=_blank>Testimonials</a></div></div></footer><script src=https://code.jquery.com/jquery-3.3.1.min.js integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin=anonymous></script><script src=https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js integrity=sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy crossorigin=anonymous></script><script src=https://cdn.jsdelivr.net/algoliasearch/3/algoliasearch.min.js></script><script src=https://cdn.jsdelivr.net/autocomplete.js/0/autocomplete.min.js></script><script src=/js/asearch.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/ekko-lightbox/5.3.0/ekko-lightbox.min.js></script><script>$(document).on('click','[data-toggle="lightbox"]',function(a){a.preventDefault(),$(this).ekkoLightbox({alwaysShowClose:!0})})</script></body></html>